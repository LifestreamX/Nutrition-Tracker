generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
  // Note: relationMode = "prisma" is not necessary, as it is the default setting
}

model User {
  id            String         @id @default(cuid())
  email         String         @unique
  passwordHash  String
  loginAttempts LoginAttempt[] // One-to-many relation
}

model LoginAttempt {
  id           String   @id @default(cuid())
  email        String
  timestamp    DateTime @default(now())
  attemptCount Int
  user         User?    @relation(fields: [email], references: [email]) // Opposite relation

  @@index([email]) // Manually adding an index to the email field
}
